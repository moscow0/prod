"use strict";(self.webpackChunkuwazi=self.webpackChunkuwazi||[]).push([[736],{2925:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v,mapStateToProps:()=>Z});var a,s=r(67294),o=r(37974),l=(r(43393),r(3023)),i=r(75358),n=r(29009),p=r(94831),u=r(14195),c=r(99307),h=r(87226),d=r(43815),g=r(76395),f=r(50530),y=r(56053);function b(e,t,r,s){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=s;else if(l>1){for(var i=new Array(l),n=0;n<l;n++)i[n]=arguments[n+3];t.children=i}if(t&&o)for(var p in o)void 0===t[p]&&(t[p]=o[p]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class m extends s.Component{parseAttributes(){const e=JSON.parse(this.props.shortLabels);return{sort:JSON.parse(this.props.sort),shortLabels:e,pluckCategories:JSON.parse(this.props.pluckCategories)}}X(){return"vertical"===this.props.layout?b(l.Z,{type:"number",dataKey:"results"}):b(l.Z,{dataKey:"label",label:""})}Y(){return"vertical"===this.props.layout?b(i.Z,{width:200,type:"category",dataKey:"label"}):b(i.Z,{})}render(){const{excludeZero:e,maxCategories:t,layout:r,property:a,data:s,classname:o,context:l,scatter:i,colors:y}=this.props;let m=b(g.Z,{});if(s){const o=y.split(","),g="true"===this.props.aggregateOthers,{sort:Z,shortLabels:v,pluckCategories:k}=this.parseAttributes(),C=(e=>{const t={};return Object.keys(e).forEach((r=>{t[e[r]]=r})),t})(v),x=f.sq.formatDataForChart(s,a,{excludeZero:Boolean(e),context:l,scatter:Boolean(i),maxCategories:t,aggregateOthers:g,pluckCategories:k,sort:Z,labelsMap:v});m=b(n.Z,{height:320},void 0,b(p.Z,{height:300,data:x,layout:r},void 0,this.X(),this.Y(),b(u.Z,{strokeDasharray:"2 4"}),b(c.Z,{formatter:(e,t,r)=>{if(i){const{parent:t}=r.payload;return C[e]||[e,`\r\n${t}`]}return C[e]||e}}),b(h.Z,{dataKey:"results",fill:"rgb(30, 28, 138)",stackId:"unique"},void 0,x.map(((e,t)=>b(d.Z,{cursor:"pointer",fill:o[t%o.length]},`cell-${t}`))))))}return b("div",{className:`BarChart ${o}`},void 0,m)}}m.defaultProps={context:"System",scatter:!1,excludeZero:!1,layout:"horizontal",maxCategories:"0",aggregateOthers:"false",classname:"",data:null,colors:"#1e1c8a",shortLabels:"{}",sort:"{}",pluckCategories:"[]"};const Z=(e,t)=>({data:y.Z.getAggregations(e,t),thesauris:e.thesauris}),v=(0,o.connect)(Z)(m)}}]);
//# sourceMappingURL=LazyLoadBarChart.d2a45b677bd3b2f65601.bundle.js.map