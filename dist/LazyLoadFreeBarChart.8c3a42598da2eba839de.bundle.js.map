{"version":3,"file":"LazyLoadFreeBarChart.8c3a42598da2eba839de.bundle.js","mappings":"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","sources":["webpack://uwazi/./app/react/Markdown/components/FreeBarChart.tsx"],"sourcesContent":["function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var REACT_ELEMENT_TYPE;function _jsx(type, props, key, children) {REACT_ELEMENT_TYPE || (REACT_ELEMENT_TYPE = \"function\" == typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103);var defaultProps = type && type.defaultProps,childrenLength = arguments.length - 3;if (props || 0 === childrenLength || (props = { children: void 0 }), 1 === childrenLength) props.children = children;else if (childrenLength > 1) {for (var childArray = new Array(childrenLength), i = 0; i < childrenLength; i++) childArray[i] = arguments[i + 3];props.children = childArray;}if (props && defaultProps) for (var propName in defaultProps) void 0 === props[propName] && (props[propName] = defaultProps[propName]);else props || (props = defaultProps || {});return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: void 0 === key ? null : \"\" + key, ref: null, props: props, _owner: null };} /** @format */\n\nimport React, { Component } from 'react';\n\nimport {\nResponsiveContainer,\nBarChart,\nXAxis,\nYAxis,\nCartesianGrid,\nBar,\nTooltip,\nCell } from\n'recharts';\n\n\n\n\n\n\n\n\n\n\nconst X = ({ layout, dataKey }) =>\nlayout === 'vertical' ? /*#__PURE__*/\n_jsx(XAxis, { type: \"number\", dataKey: dataKey }) : /*#__PURE__*/\n\n_jsx(XAxis, { dataKey: \"label\", label: \"\" });\n\n\nconst Y = ({ layout }) =>\nlayout === 'vertical' ? /*#__PURE__*/_jsx(YAxis, { width: 200, type: \"category\", dataKey: \"label\" }) : /*#__PURE__*/_jsx(YAxis, {});\n\n\n\n\n\n\n\nexport const CustomTooltip = ({ active, payload, label }) => {\n  if (active && payload && payload[0]) {\n    const finalItemStyle = {\n      display: 'block',\n      color: '#999',\n      backgroundColor: 'rgba(255,255,255,0.9)',\n      border: '1px solid #ccc',\n      padding: '10px' };\n\n    return /*#__PURE__*/(\n      _jsx(\"div\", { className: \"custom-tooltip\", style: finalItemStyle }, void 0, /*#__PURE__*/\n      _jsx(\"p\", { className: \"tooltip-label\", style: { margin: 0 } }, void 0,\n      label, \" :\", ' ', /*#__PURE__*/\n      _jsx(\"span\", { className: \"tooltip-label-value\", style: { color: payload[0].color || '#000' } }, void 0,\n      payload[0].value))));\n\n\n\n\n  }\n\n  return null;\n};\n\nCustomTooltip.defaultProps = {\n  active: false };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass FreeBarChart extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = { activeDataIndex: 0 };\n    this.changeData = this.changeData.bind(this);\n  }\n\n  getDataKeys() {\n    const { dataKeys } = this.props;\n    if (dataKeys.indexOf('[') === 0) {\n      return JSON.parse(dataKeys);\n    }\n\n    return [{ [dataKeys]: dataKeys }];\n  }\n\n  changeData(activeDataIndex) {\n    return () => {\n      this.setState({ activeDataIndex });\n    };\n  }\n\n  render() {\n    const { activeDataIndex } = this.state;\n    const { layout, data, classname, colors, children } = this.props;\n    let output = null;\n\n    if (data) {\n      const sliceColors = colors.split(',');\n      const parsedData = JSON.parse(data);\n      const dataKeysArray = this.getDataKeys();\n      const dataKey = Object.keys(dataKeysArray[activeDataIndex])[0];\n      output = /*#__PURE__*/\n      React.createElement(React.Fragment, null,\n      dataKeysArray.length > 1 && /*#__PURE__*/\n      _jsx(\"div\", { className: \"toggle-group\" }, void 0,\n      dataKeysArray.map((dataKeyValue, index) => /*#__PURE__*/\n      _jsx(\"button\", {\n        type: \"button\",\n        className: `btn ${\n        activeDataIndex === index ? 'btn-primary' : 'btn-default'\n        } toggle-group-button`,\n\n        onClick: this.changeData(index) }, Object.keys(dataKeyValue)[0],\n\n      Object.values(dataKeyValue)[0]))),\n\n\n\n\n      children, /*#__PURE__*/\n      _jsx(ResponsiveContainer, { height: 320 }, void 0, /*#__PURE__*/\n      _jsx(BarChart, { height: 300, data: parsedData, layout: layout }, void 0,\n      X({ layout, dataKey }),\n      Y({ layout }), /*#__PURE__*/\n      _jsx(CartesianGrid, { strokeDasharray: \"2 4\" }), /*#__PURE__*/\n      _jsx(Tooltip, { content: /*#__PURE__*/_jsx(CustomTooltip, {}) }), /*#__PURE__*/\n      _jsx(Bar, { dataKey: dataKey, fill: \"rgb(30, 28, 138)\", stackId: \"unique\" }, void 0,\n      parsedData.map((_entry, index) => /*#__PURE__*/\n      _jsx(Cell, {\n        cursor: \"pointer\",\n        fill: sliceColors[index % sliceColors.length] },\n      `cell-${index}`))))));\n\n\n\n\n\n\n\n    }\n\n    return /*#__PURE__*/_jsx(\"div\", { className: `BarChart ${classname}` }, void 0, output);\n  }}_defineProperty(FreeBarChart, \"defaultProps\", void 0);\n\n\nFreeBarChart.defaultProps = {\n  classname: '',\n  layout: 'horizontal',\n  data: null,\n  dataKeys: 'results',\n  colors: '#1e1c8a',\n  children: null };\n\n\nexport default FreeBarChart;"],"names":["REACT_ELEMENT_TYPE","_jsx","type","props","key","children","Symbol","for","defaultProps","childrenLength","arguments","length","childArray","Array","i","propName","$$typeof","ref","_owner","CustomTooltip","active","payload","label","className","style","display","color","backgroundColor","border","padding","margin","value","FreeBarChart","Component","constructor","super","this","state","activeDataIndex","changeData","bind","getDataKeys","dataKeys","indexOf","JSON","parse","setState","render","layout","data","classname","colors","output","sliceColors","split","parsedData","dataKeysArray","dataKey","Object","keys","map","dataKeyValue","index","onClick","values","height","X","width","Y","strokeDasharray","content","fill","stackId","_entry","cursor","obj","defineProperty","enumerable","configurable","writable"],"sourceRoot":""}